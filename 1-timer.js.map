{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport iziToast from \"izitoast\";\nconst elements = {\n    days: document.querySelector('[data-days]'),\n    hours: document.querySelector('[data-hours]'),\n    minutes: document.querySelector('[data-minutes]'),\n    seconds: document.querySelector('[data-seconds]'),\n};\nconst timePicker = document.querySelector(\"#datetime-picker\");\n\nconst btnStart = document.querySelector(\".btn-start\");\nlet userSelectedDate = null;\nlet intervalId = null;\nconst options = {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n        const diff = selectedDates[0] - new Date();\n\n        if (diff <= 0) { btnStart.disabled = true;\n            iziToast.show({\n     message: 'Please choose a date in the future'\n});\n           \n        } else { btnStart.disabled = false;\n            userSelectedDate = selectedDates[0];\n        }\n    },\n};\nflatpickr(timePicker, options);\nbtnStart.addEventListener(\"click\", startTimer);\nfunction startTimer(){\n    if (!userSelectedDate) return;\n    btnStart.disabled = true;\n    timePicker.disabled = true;\n    intervalId =\n        setInterval(() => {\n            const ms = userSelectedDate - Date.now();\n\n            if (ms <= 0) {\n                stopTimer();\n\n                return;\n            }\n            const timeComponents = convertMs(ms);\n            \n            elements.days.textContent = padDays(timeComponents.days);\n            elements.hours.textContent = pad(timeComponents.hours);\n            elements.minutes.textContent = pad(timeComponents.minutes);\n            elements.seconds.textContent = pad(timeComponents.seconds);\n        }, 1000);\n}\n\n   function stopTimer() {\n       clearInterval(intervalId);\n       intervalId = null;\n     timePicker.disabled = false;\n  }\n\n     \n    function convertMs(ms) {\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  \n  const days = Math.floor(ms / day);\n\n  const hours = Math.floor((ms % day) / hour);\n  \n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  \n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n    return {\n      days,\n      hours,\n      minutes,\n      seconds,\n    };\n  }\n    \n   function pad(value) {\n    return String(value).padStart(2, '0');\n  }\nfunction padDays(value) { if (value > 99) { return String(value); } else { return String(value).padStart(2, '0'); }}"],"names":["elements","timePicker","btnStart","userSelectedDate","intervalId","options","selectedDates","iziToast","flatpickr","startTimer","ms","stopTimer","timeComponents","convertMs","padDays","pad","days","hours","minutes","seconds","value"],"mappings":"+IAEA,MAAMA,EAAW,CACb,KAAM,SAAS,cAAc,aAAa,EAC1C,MAAO,SAAS,cAAc,cAAc,EAC5C,QAAS,SAAS,cAAc,gBAAgB,EAChD,QAAS,SAAS,cAAc,gBAAgB,CACpD,EACMC,EAAa,SAAS,cAAc,kBAAkB,EAEtDC,EAAW,SAAS,cAAc,YAAY,EACpD,IAAIC,EAAmB,KACnBC,EAAa,KACjB,MAAMC,EAAU,CACZ,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACNA,EAAc,CAAC,EAAI,IAAI,MAExB,GAAKJ,EAAS,SAAW,GACjCK,EAAS,KAAK,CACrB,QAAS,oCACd,CAAC,IAEgBL,EAAS,SAAW,GACzBC,EAAmBG,EAAc,CAAC,EAEzC,CACL,EACAE,EAAUP,EAAYI,CAAO,EAC7BH,EAAS,iBAAiB,QAASO,CAAU,EAC7C,SAASA,GAAY,CACZN,IACLD,EAAS,SAAW,GACpBD,EAAW,SAAW,GACtBG,EACI,YAAY,IAAM,CACd,MAAMM,EAAKP,EAAmB,KAAK,IAAG,EAEtC,GAAIO,GAAM,EAAG,CACTC,IAEA,MACH,CACD,MAAMC,EAAiBC,EAAUH,CAAE,EAEnCV,EAAS,KAAK,YAAcc,EAAQF,EAAe,IAAI,EACvDZ,EAAS,MAAM,YAAce,EAAIH,EAAe,KAAK,EACrDZ,EAAS,QAAQ,YAAce,EAAIH,EAAe,OAAO,EACzDZ,EAAS,QAAQ,YAAce,EAAIH,EAAe,OAAO,CAC5D,EAAE,GAAI,EACf,CAEG,SAASD,GAAY,CACjB,cAAcP,CAAU,EACxBA,EAAa,KACfH,EAAW,SAAW,EACxB,CAGC,SAASY,EAAUH,EAAI,CAOzB,MAAMM,EAAO,KAAK,MAAMN,EAAK,KAAG,EAE1BO,EAAQ,KAAK,MAAOP,EAAK,MAAO,IAAI,EAEpCQ,EAAU,KAAK,MAAQR,EAAK,MAAO,KAAQ,GAAM,EAEjDS,EAAU,KAAK,MAAST,EAAK,MAAO,KAAQ,IAAU,GAAM,EAEhE,MAAO,CACL,KAAAM,EACA,MAAAC,EACA,QAAAC,EACA,QAAAC,CACN,CACG,CAEA,SAASJ,EAAIK,EAAO,CACnB,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACrC,CACH,SAASN,EAAQM,EAAO,CAAE,OAAIA,EAAQ,GAAa,OAAOA,CAAK,EAAmB,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CAAI"}